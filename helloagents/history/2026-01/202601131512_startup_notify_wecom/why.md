# 变更提案: 启动成功通知（企业微信应用消息）

## 需求背景
当前服务通常以常驻进程或容器方式运行，可能因主机重启、镜像更新、配置调整而反复启动。为了在无人值守场景下快速确认“服务已成功监听并可接收企业微信回调”，需要在启动成功后主动推送一条诊断信息到企业微信会话。

## 变更内容
1. 服务启动并成功监听端口后，向配置的默认用户（`auth.allowed_userids`）发送一次“启动成功”通知。
2. 通知包含启动诊断信息（监听地址、回调入口、健康检查地址、基础环境信息等），不包含任何敏感字段。
3. 发送失败仅记录日志，不影响服务继续运行。

## 影响范围
- **模块:** cmd、app、wecom
- **文件:** `cmd/wecom-home-ops/main.go`、`internal/app/server.go` 等
- **API:** 无新增对外 API（复用既有 `/healthz` `/readyz` `/wecom/callback`）
- **数据:** 无

## 核心场景

### 需求: 启动成功通知
**模块:** app/wecom
服务进程启动并成功监听端口后，向默认用户推送启动信息，用于快速确认“服务已就绪 + 配置生效”。

#### 场景: 正常启动后发送一次通知
当服务完成监听（确保端口绑定成功）：
- 向 `auth.allowed_userids` 中的每个用户发送一条启动成功消息
- 消息包含：服务名、时间、监听地址、BaseURL（如有）、健康检查与回调路径等
- 若发送失败：仅结构化日志记录错误并继续运行

## 风险评估
- **风险:** 企业微信 API 调用失败（网络/鉴权/限流）导致通知未送达
- **缓解:** 使用超时控制；失败仅记录日志不阻塞启动；消息内容严格脱敏避免泄露密钥与 token
